(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-156c9c12"],{"14a7":function(e,a,t){"use strict";var i=t("f3e4");t.n(i).a},"64ae":function(e,a,t){"use strict";t.r(a);var i=t("d4ec"),n=t("bee2"),r=t("99de"),o=t("7e84"),c=t("262e"),s=t("9ab4"),l=t("60a3"),u=t("0cc6"),p=t("784f"),d=(t("6cc5"),t("20d6"),t("5fbf"),function(e){function a(){return Object(i.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(c.a)(a,e),Object(n.a)(a,[{key:"drawReviewImageOnMap",value:function(e){this.reviewImageLayer?this.drawImage(e,this.reviewImageLayer):this.reviewImageLayer=this.drawImage(e)}}]),a}(t("b31a").a)),h=t("90e8"),m=t("fd62"),w=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).apply(this,arguments))).icon=u.a,e.reviewMap=new d,e}return Object(c.a)(a,e),Object(n.a)(a,[{key:"hideAllBar",value:function(){p.a.setState({isAllBarHidden:!p.a.isAllBarHidden})}},{key:"drawImageOnMap",value:function(e){var a=m.a(e),t={x:0,y:0},i={x:.3,y:.2};this.reviewMap.drawReviewImageOnMap({size:i,center:t,url:a.L}),this.reviewMap.setImageFitView(t,i)}},{key:"mounted",value:function(){var a=this;this.reviewMap.init("review-map-id"),this.reviewMap.initScale(),this.reviewMap.initToolBar(),h.b.$on(h.a.reviewImage,function(e){a.drawImageOnMap(e)})}},{key:"eyeIcon",get:function(){return p.a.isAllBarHidden?this.icon.mdiEye:this.icon.mdiEyeOff}},{key:"isShow",get:function(){return!p.a.isReviewMapHidden}}]),a}(l.c),v=w=Object(s.a)([l.a],w),y=(t("14a7"),t("2877")),f=t("6544"),g=t.n(f),b=t("8336"),O=t("132d"),k=Object(y.a)(v,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"map",attrs:{id:"review-map-id"}}),t("v-btn",{staticClass:"mr-2 show-btn",attrs:{fab:"",dark:"",small:"",color:"white"},on:{click:e.hideAllBar}},[t("v-icon",{attrs:{color:"black"}},[e._v(e._s(e.eyeIcon))])],1)],1)},[],!1,null,"02a20f27",null);a.default=k.exports;g()(k,{VBtn:b.a,VIcon:O.a})},b31a:function(e,a,t){"use strict";t.d(a,"a",function(){return r});t("d81d"),t("b680");var i=t("d4ec"),n=t("bee2"),s=(t("6cc5"),t("e11e")),r=(t("20d6"),t("5fbf"),function(){function e(){Object(i.a)(this,e)}return Object(n.a)(e,[{key:"init",value:function(e){this.map=s.map(e,{crs:s.CRS.Simple,minZoom:0,maxZoom:16,zoom:10,zoomSnap:1,zoomControl:!1,attributionControl:!1,center:[0,0]})}},{key:"drawImage",value:function(e,a){var t=new s.LatLngBounds([[e.size.y/2+e.center.y,e.size.x/2+e.center.x],[-e.size.y/2+e.center.y,-e.size.x/2+e.center.x]]);return this.map&&(a?(a.setBounds(t),a.setUrl(e.url)):a=s.imageOverlay(e.url,t,{opacity:1,zIndex:void 0!==e.zIndex?e.zIndex:1e3}).addTo(this.map)),a}},{key:"initScale",value:function(){s.Control.Scale.include({_updateMetric:function(e){var a=500*e,t=this._getRoundNum(a),i=t<500?t+" μm":t/500+" mm";this._updateScale(this._mScale,i,t/a)}}),this.map&&s.control.scale({position:"topleft",maxWidth:100,imperial:!1}).addTo(this.map)}},{key:"initToolBar",value:function(){var o=this;if(this.map){var c=new s.FeatureGroup;this.map.addLayer(c);var e={position:"topright",draw:{polyline:{shapeOptions:{color:"red",weight:5,opacity:.5},maxPoints:2,showLength:!0,metric:!0},polygon:{allowIntersection:!1,drawError:{color:"#e1e100"},shapeOptions:{color:"#bada55"}},circle:!1,rectangle:{shapeOptions:{clickable:!1}},circlemarker:!1,marker:!1},edit:{featureGroup:c}},a=new s.Control.Draw(e);this.map.addControl(a),this.map.on("draw:created",function(e){if(c.addLayer(e.layer),"polyline"===e.layerType&&o.map){var a=e.layer._latlngs[0],t=e.layer._latlngs[1],i=(a.lat+t.lat)/2,n=(a.lng+t.lng)/2,r=Math.sqrt(Math.pow(a.lat-t.lat,2)+Math.pow(a.lng-t.lng,2));s.popup({autoClose:!1,keepInView:!0,autoPan:!0}).setLatLng([i,n]).setContent("<p>".concat((1e3*r).toFixed(3)," μm</p>")).addTo(o.map)}})}}},{key:"getViewSize",value:function(){var e={x:1,y:1};return this.map&&(this.map.invalidateSize(),e={x:this.map.getSize().x,y:this.map.getSize().y}),e}},{key:"setImageFitView",value:function(e,a,t){var i=!(2<arguments.length&&void 0!==t)||t,n=this.getViewSize(),r=1;r=i?n.x/a.x:n.y/a.y,r=Math.log(r)/Math.log(2),this.map&&this.map.setView([e.y,e.x],r)}}]),e}())},f3e4:function(e,a,t){}}]);